<section class="profile-container" *ngIf="!loading; else loadingTemplate">
  <div class="profile-card" *ngIf="user; else errorTemplate">
    
    <header class="profile-header" role="banner">
      <img 
        [src]="user.profileImage || 'assets/images/default-profile.png'" 
        alt="{{ user.name }}" 
        class="profile-image" 
        [attr.aria-label]="'Profile image of ' + user.name"
      />
      <div>
        <h2>{{ user.name }}</h2>
        <p class="joined">Joined on {{ user.joinedDate | date: 'mediumDate' }}</p>
      </div>
    </header>

    <section class="profile-details" aria-labelledby="profile-details-heading">
      <h3 id="profile-details-heading" class="visually-hidden">User Details</h3>
      <div class="detail">
        <label>Email:</label>
        <p>{{ user.email }}</p>
      </div>
      <div class="detail">
        <label>Phone:</label>
        <p>{{ user.phone || 'Not provided' }}</p>
      </div>
      <div class="detail">
        <label>Address:</label>
        <p>{{ user.address || 'Not provided' }}</p>
      </div>
    </section>

    <div class="actions">
      <button class="primary-btn" (click)="editProfile()" aria-label="Edit Profile">
        Edit Profile
      </button>
    </div>

  </div>
</section>

<!-- Loading State -->
<ng-template #loadingTemplate>
  <div class="loading-indicator" role="status" aria-live="polite">
    Loading user profile...
  </div>
</ng-template>

<!-- Error State -->
<ng-template #errorTemplate>
  <div class="error-message" role="alert">
    {{ error || 'Unable to load profile. Please try again later.' }}
  </div>
</ng-template>
